{{ define "main" }}
    <header>
        <nav>
            <a href='{{ relref . "/#home" }}'>Home</a>
            <a href='{{ relref . "/#about" }}'>About me</a>
            <a href='{{ relref . "/#works" }}'>Works</a>
            <a href='{{ relref . "/#contact" }}'>Contact</a>
        </nav>
    </header>
    <main>
        <section id="home" class="l-name">
            <div class="img-wrapper-circle">
                <img src="/img/icon.jpg">
            </div>
            <div>
                <h1>Nishimura Yuki</h1>
                <p>computer programmer</p>
            </div>
        </section>
        <section id="about">
            <h2>About me</h2>
            <p>高校生でプログラミングに出会い熱中してからプログラムを書き続けています。</p>
        </section>
        <section id="works">
            <h2>Works</h2>
            <div id="works" class="works">
                {{ $works := where .Site.RegularPages "Section" "works" }}
                {{ range $works }}
                    <a class="work" href="{{ .RelPermalink }}">
                        <div class="work-img-wrapper">
                            {{ with .Resources.GetMatch "img.png" }}
                            <img src="{{ .RelPermalink }}">
                            {{ else }}
                            <img src="/img/work.png">
                            {{ end }}
                        </div>
                        <div>
                            <h3>{{ .Title }}</h3>
                            <p>{{ .Description }}</p>
                        </div>
                    </a>
                {{ end }}
            </div>
        </section>
        <section id="contact">
            <h2>Contact</h2>
            <p>contact</p>
        </section>
    </main>
    <script>
        const header = document.querySelector("header");

        window.addEventListener("scroll", event => {
            if (window.scrollY > 30) {
                header.classList.add("scrolling");
            } else {
                header.classList.remove("scrolling");
            }
            console.log(window.scrollY);
        });
    </script>
{{ end }}
